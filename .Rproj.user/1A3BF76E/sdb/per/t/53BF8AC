{
    "contents" : "library(slidify)\n\nslidify(\"index.Rmd\")\n\n\nrequire(ffbase)\ngc() #   memory\nNdata = 2e6;  # number of observations. 20 million in this example. \nN_ids = Ndata/10 # number of unique idents. \nident = factor( sample( 1000:(N_ids+1000), Ndata, replace = T)) # make ident as a sample from 1000 to 20 001 000\ndf <- ffdf( ident = ff(ident))  # create a ffdf database with a column ff( vector). This is written into disk. \nrm(ident) \nfdates <- ff(sample( 0:10000, Ndata, replace = T) + as.Date(\"1970-10-01\"))\ndf$date <- fdates  # here we assign that vector to df.... if we change fdates, we will change df$date. This is diff from R. \nfdiagnose <- ff(sample( factor(letters), Ndata, replace = T )) # this is ok, factors... \ndf$diagnose <- fdiagnose\nfregion = ff( factor( sample( c(\"000\",\"013\" ,\"014\", \"015\", \"020\" ,\"025\", \"030\", \"035\" ,\"040\", \"042\", \"050\" ,\"055\" ,\"060\" ,\"065\" ,\"070\" ,\"076\", \"080\", \"090\"), Ndata, replace=T )) ) \ndf$region <- fregion\n\nstr(df[1,])\n\nfbirth <- ff(sample( 0:40000, Ndata, replace = T) + as.Date(\"1970-10-01\"))\ndf$birth <- fbirth\ngetwd()\n\ndir.create(\"./data\")\nffdfsave(df, file = \"./data/df\")\n\nlibrary(LargeData)\n\ndata <- data.table(df[,], key = \"date\")\n\ndata[, date := ifelse(date < birth, birth + sample(0:(365*40),1), date)]\n\ndata[, cit_from := birth + sample(0:(365*20),1)]\ndata[, date := asDate(date)]\ndata[1:2]\nsave(data, file = \"./data/data\")\n\nrequire(rCharts)\n\ndata[ , ymonth := substr(as.character(cit_from),0,7)]\ndata[ , ymonth := paste(ymonth,\"-00\",sep=\"\")]\ndata[ , ymonth := paste(ymonth,\"-00\",sep=\"\")]\n\nsave(data, file = \"./data/data\")\n\n### heat map month year ### \n\ndir <- getwd()\ndir_data<- \"C:/Users/jkc261/Documents/Projects/TMPDATA/Registers2012/\"\nsetwd(dir_data)\nrequire(ffbase)\nload(\"datascreening\")\n\nstr(datascreening[1,])\n\n\ndt <- table(data$month, data$year)\ndt <- data.frame(dt)\nnames(dt) <- c(\"month\", \"year\", \"freq\")\ndt[1:2,]\nc.scale <- scale_fill_gradient(low = \"white\", \n                               high = \"steelblue\",\n                               limits=c(min(dt$freq),\n                                        max(dt$freq)))\n\n# apply the same scale to different plots\np1 <- ggplot(dt, aes(month, year)) + \n  geom_tile(aes(fill = freq), color=\"white\") \n\np2 <- p1 + c.scale\n\np2\n#### \n\ndata[1:2]\ndata[, datemill := as.integer(date)* 24*3600*1000]\n\ntdate <- data[, .N,by=date][, ymill := as.integer(as.Date(d))*24*3600*1000]\n\nn1 <- nPlot(\n  N~datemill,\n  data =tdate ,\n  group = \"id\",  # even though only one series need to specify group\n  type = \"lineWithFocusChart\"\n)\n\na <- letters[1:3]\ntable(a, sample(a)) \n\n### no van los axis, no se porque?? \nn1$xAxis(\n  tickFormat=\n    \"#!function(d) { return d3.time.format('%Y %b')(new Date( d )); }!#\"\n)\n\nn1$x2Axis(\n  tickFormat=\n    \"#!function(d) {return d3.time.format('%Y')(new Date( d ));}!#\"\n)\n\nn1\n\n# get 1e5 sampled data: \nsdata <- datascreening[sample(0:nrow(datascreening),1e5),]\n\nsdata[1:30,]\n",
    "created" : 1380883876110.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "hash" : "2953181580",
    "id" : "53BF8AC",
    "lastKnownWriteTime" : 1380906704,
    "path" : "/Volumes/mac/Documents/Github/visualDataPresentation/extra/data.R",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}